agents:
  - id: title_generation_worker
    model: anthropic/claude-3.5-haiku
    tools:
      - forge_tool_event_dispatch
    subscribe:
      - user_task
    max_turns: 1
    system_prompt: "{{> title-generator.hbs }}"
    user_prompt: <technical_content>{{event.value}}</technical_content>

  - id: developer
    model: anthropic/claude-3.5-sonnet
    tools:
      - tool_forge_fs_read
      - tool_forge_fs_create
      - tool_forge_fs_remove
      - tool_forge_fs_patch
      - tool_forge_process_shell
      - tool_forge_net_fetch
      - tool_forge_fs_search
    subscribe:
      - user_task
    ephemeral: false
    system_prompt: "{{> software-engineer.hbs }}"
    user_prompt: <task>{{event.value}}</task>

  # Worker
  # The work asynchronously listening to events and performing tasks
  - id: user_feedback_worker
    model: anthropic/claude-3.5-sonnet
    tools:
      - tool_forge_knowledge_set
    subscribe:
      - user_task
    system_prompt: "{{> knowledge-storage.hbs }}"
    user_prompt: <feedback>{{event.value}}</feedback>

  - id: shell_usage_worker
    model: anthropic/claude-3.5-sonnet
    tools:
      - tool_forge_knowledge_set
    subscribe:
      - tool_forge_process_shell
    system_prompt: "{{> knowledge-storage.hbs }}"
    user_prompt: <shell_command>{{event.value.command}}</shell_command>
